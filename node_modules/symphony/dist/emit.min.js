"use strict";function createEmitter(){function t(t){if(u){if(!(t in o))throw Error("Event `"+t+"` not found in the list of permitted events: ["+Object.keys(o).join(", ")+"]")}else o[t]||(o[t]=[]);return o[t]}function n(n){var o=t(n);o.forEach(function(t){t()})}for(var o=Object.create(null),e=arguments.length,r=Array(e),i=0;e>i;i++)r[i]=arguments[i];var u=!!r.length;return u&&(r.forEach(function(t){if("string"!=typeof t)throw TypeError("Expected event name to be a string, got: "+t);o[t]=[]}),Object.freeze(o)),n.on=function(n,o){var e=t(n);return"function"==typeof o&&(~e.indexOf(o)||e.push(o)),function(){var t=e.indexOf(o);~t&&e.splice(t,1)}},n.decorator=createDecorator(n),n}function createDecorator(t){return function(){for(var n=arguments.length,o=Array(n),e=0;n>e;e++)o[e]=arguments[e];return function(n,e,r){var i=r.value;if("function"==typeof i){if(n.constructor&&n.constructor!==Object){var u=function(){var r=n.componentWillMount,u=n.componentWillUnmount,c=void 0;return n.componentWillMount=function(){var n=this;"function"==typeof r&&r.call(this),isBound(this[e])||(this[e]=i.bind(this)),c=o.map(function(o){return t.on(o,n[e])})},n.componentWillUnmount=function(){c.forEach(function(t){t()}),"function"==typeof u&&u.call(this)},{v:void 0}}();if("object"==typeof u)return u.v}if("object"==typeof n&&"string"==typeof n.displayName){var c=function(){n.mixins||(n.mixins=[]);var r=void 0;return n.mixins.push({componentWillMount:function(){var n=this;r=o.map(function(o){return t.on(o,n[e])})},componentWillUnmount:function(){r.forEach(function(t){t()})}}),{v:void 0}}();if("object"==typeof c)return c.v}isBound(i)||(i=r.value=i.bind(n)),o.map(function(n){t.on(n,i)})}}}}function isBound(t){return"function"==typeof t&&(!t.prototype||/^bound\b/.test(t.name))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createEmitter=createEmitter;