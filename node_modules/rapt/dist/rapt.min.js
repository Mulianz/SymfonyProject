"use strict";function createMiddleware(){for(var r=arguments.length,t=Array(r),n=0;r>n;n++)t[n]=arguments[n];t.forEach(function(r){if("function"!=typeof r)throw TypeError("Each transducer must be a function, got: "+r)});var e=combineTransducers.apply(void 0,t);return function(r){var t=r.dispatch,n=r.getState,i=function(){for(var r=arguments.length,t=Array(r),e=0;r>e;e++)t[e]=arguments[e];return readAtPath(n(),t)};return function(r){return function(n){if(void 0!==n){var o=n;if(n=e(n,t,i),void 0!==n){if(isPromise(n))return n.then(t);if(n instanceof Array){var a=function(){var r=void 0;return n.forEach(function(n){r?r=r.then(function(){return t(n)}):(n=t(n),isPromise(n)&&(r=n))}),{v:r}}();if("object"==typeof a)return a.v}return isPlainObject(n)?n===o?r(n):t(n):r(n)}}}}}}function combineTransducers(){for(var r=arguments.length,t=Array(r),n=0;r>n;n++)t[n]=arguments[n];return function(r){for(var n=arguments.length,e=Array(n>1?n-1:0),i=1;n>i;i++)e[i-1]=arguments[i];for(var o=-1;++o<t.length;){var a=t[o].apply(t,[r].concat(e));if(a!==r)return a}return r}}function readAtPath(r,t){if(!(t instanceof Array))throw TypeError("path must be an array, got: "+t);if(!t.length)return r;for(var n=-1;++n<t.length;){if(isPrimitive(r))return void 0;var e=t[n];r=r[e]}return r}function isPrimitive(r){return null==r||"object"!=typeof r&&"function"!=typeof r}function isPromise(r){return null!=r&&"function"==typeof r.then&&"function"==typeof r["catch"]}function isPlainObject(r){return!(!r||r.constructor!==Object&&r.constructor)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createMiddleware=createMiddleware;